<button (click)="openMessagesMenu()" [matMenuTriggerFor]="messagesMenu" mat-icon-button>
    <mat-icon>notifications</mat-icon>
</button>
<mat-menu #messagesMenu="matMenu" [overlapTrigger]="false" class="toolbar-dropdown-menu messages">
    <!--<span (mouseleave)="onMouseLeave()">-->
    <mat-tab-group (click)="stopClickPropagate($event)" [selectedIndex]="selectedTab">
        <mat-tab>
            <ng-template mat-tab-label>
                <mat-icon>message</mat-icon>
            </ng-template>
            <mat-card class="content" perfectScrollbar>
                <div fxLayout="column" fxLayoutAlign="none">
                    <button *ngFor="let message of messages" mat-button>
                        <!-- <img src="{{ ( message.image || (message.name | profilePicture)) }}" width="50">    -->
                        <div class="w-100" fxLayout="column" fxLayoutAlign="none">
                            <div fxLayout="row" fxLayoutAlign="space-between start">
                                <span class="name">{{message.name}}</span>
                                <span class="info"><mat-icon>access_time</mat-icon>
                                    {{message.time}}</span>
                            </div>
                            <span class="text secondary-text-color">{{message.text}}</span>
                        </div>
                    </button>
                </div>
            </mat-card>
        </mat-tab>
        <mat-tab>
            <ng-template mat-tab-label>
                <mat-icon>description</mat-icon>
            </ng-template>
            <mat-card class="content" perfectScrollbar>
                <div fxLayout="column" fxLayoutAlign="none">
                    <button *ngFor="let file of files" mat-button>
                        <div class="w-100" fxLayout="column" fxLayoutAlign="none">
                            <div fxLayout="row" fxLayoutAlign="space-between start">
                                <span class="name">{{file.text}}</span>
                                <span class="info">{{file.size}}</span>
                            </div>
                            <mat-progress-bar
                                    [color]="file.color"
                                    [value]="file.value"
                                    class="example-margin"
                                    mode="indeterminate">
                            </mat-progress-bar>
                        </div>
                    </button>
                </div>
            </mat-card>
        </mat-tab>
        <mat-tab>
            <ng-template mat-tab-label>
                <mat-icon>event</mat-icon>
            </ng-template>
            <mat-card class="content" perfectScrollbar>
                <div fxLayout="column" fxLayoutAlign="none">
                    <button *ngFor="let meeting of meetings" mat-button>
                        <div [ngClass]="meeting.bgColor" class="row-1" fxLayout="column" fxLayoutAlign="center center">
                            <span class="name">{{meeting.day}}</span>
                            <span class="name">{{meeting.month}}</span>
                        </div>
                        <div fxLayout="column" fxLayoutAlign="none">
                            <span class="name">{{meeting.title}}</span>
                            <span class="text secondary-text-color">{{meeting.text}}</span>
                        </div>
                    </button>
                </div>
            </mat-card>
        </mat-tab>
    </mat-tab-group>
    <!--</span>-->
</mat-menu>